{
  "buildCommand": "npm run vercel-build",
  "outputDirectory": "frontend/dist",
  "installCommand": "npm install && cd frontend && npm install && cd ../api && npm install",
  "rewrites": [
    {
      "source": "/api/health",
      "destination": "/api/admin?__route=health"
    },
    {
      "source": "/api/admin-setup",
      "destination": "/api/admin?__route=admin-setup"
    },
    {
      "source": "/api/ticket-solicitud",
      "destination": "/api/admin?__route=ticket-solicitud"
    },
    {
      "source": "/api/admin/ticket-solicitudes",
      "destination": "/api/admin?__subpath=ticket-solicitudes"
    },
    {
      "source": "/api/admin/ticket-solicitudes/:id/approve",
      "destination": "/api/admin?__subpath=ticket-solicitudes&__action=approve"
    },
    {
      "source": "/api/admin/ticket-solicitudes/:id/reject",
      "destination": "/api/admin?__subpath=ticket-solicitudes&__action=reject"
    },
    {
      "source": "/api/admin/pilots/:id/status",
      "destination": "/api/admin?__route=pilot-status&__id=:id"
    },
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    },
    {
      "source": "/assets/:path*",
      "destination": "/assets/:path*"
    },
    {
      "source": "/logo.png",
      "destination": "/logo.png"
    },
    {
      "source": "/manifest.json",
      "destination": "/manifest.json"
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}

